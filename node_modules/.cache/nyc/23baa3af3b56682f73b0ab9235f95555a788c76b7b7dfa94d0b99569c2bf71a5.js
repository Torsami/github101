'use strict';var cov_4vt28xvcu=function(){var path="/home/sami/Documents/elint-retraced/github101/src/user.js";var hash="50e0080406c685d18a4aa1c5dde537e5e48f6de0";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/sami/Documents/elint-retraced/github101/src/user.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:10},end:{line:7,column:23}},"2":{start:{line:9,column:11},end:{line:9,column:38}},"3":{start:{line:11,column:15},end:{line:11,column:33}},"4":{start:{line:13,column:16},end:{line:13,column:48}},"5":{start:{line:15,column:18},end:{line:15,column:40}},"6":{start:{line:17,column:19},end:{line:17,column:54}},"7":{start:{line:19,column:20},end:{line:19,column:43}},"8":{start:{line:21,column:21},end:{line:21,column:58}},"9":{start:{line:23,column:39},end:{line:23,column:93}},"10":{start:{line:25,column:10},end:{line:25,column:34}},"11":{start:{line:27,column:0},end:{line:27,column:37}},"12":{start:{line:28,column:0},end:{line:28,column:62}},"13":{start:{line:29,column:0},end:{line:29,column:37}},"14":{start:{line:30,column:0},end:{line:30,column:65}},"15":{start:{line:32,column:13},end:{line:32,column:21}},"16":{start:{line:33,column:23},end:{line:33,column:177}},"17":{start:{line:35,column:11},end:{line:51,column:2}},"18":{start:{line:53,column:18},end:{line:71,column:1}},"19":{start:{line:56,column:16},end:{line:56,column:33}},"20":{start:{line:58,column:4},end:{line:70,column:5}},"21":{start:{line:59,column:22},end:{line:59,column:66}},"22":{start:{line:60,column:8},end:{line:60,column:31}},"23":{start:{line:61,column:8},end:{line:61,column:15}},"24":{start:{line:63,column:8},end:{line:63,column:37}},"25":{start:{line:64,column:8},end:{line:64,column:34}},"26":{start:{line:66,column:8},end:{line:69,column:11}},"27":{start:{line:73,column:0},end:{line:73,column:75}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:23,column:9},end:{line:23,column:31}},loc:{start:{line:23,column:37},end:{line:23,column:95}},line:23},"1":{name:"verifyToken",decl:{start:{line:53,column:27},end:{line:53,column:38}},loc:{start:{line:53,column:55},end:{line:71,column:1}},line:53}},branchMap:{"0":{loc:{start:{line:23,column:46},end:{line:23,column:92}},type:"cond-expr",locations:[{start:{line:23,column:70},end:{line:23,column:73}},{start:{line:23,column:76},end:{line:23,column:92}}],line:23},"1":{loc:{start:{line:23,column:46},end:{line:23,column:67}},type:"binary-expr",locations:[{start:{line:23,column:46},end:{line:23,column:49}},{start:{line:23,column:53},end:{line:23,column:67}}],line:23}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_4vt28xvcu.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _pg=(cov_4vt28xvcu.s[1]++,require('pg'));var _pg2=(cov_4vt28xvcu.s[2]++,_interopRequireDefault(_pg));var _express=(cov_4vt28xvcu.s[3]++,require('express'));var _express2=(cov_4vt28xvcu.s[4]++,_interopRequireDefault(_express));var _bodyParser=(cov_4vt28xvcu.s[5]++,require('body-parser'));var _bodyParser2=(cov_4vt28xvcu.s[6]++,_interopRequireDefault(_bodyParser));var _jsonwebtoken=(cov_4vt28xvcu.s[7]++,require('jsonwebtoken'));var _jsonwebtoken2=(cov_4vt28xvcu.s[8]++,_interopRequireDefault(_jsonwebtoken));function _interopRequireDefault(obj){cov_4vt28xvcu.f[0]++;cov_4vt28xvcu.s[9]++;return(cov_4vt28xvcu.b[1][0]++,obj)&&(cov_4vt28xvcu.b[1][1]++,obj.__esModule)?(cov_4vt28xvcu.b[0][0]++,obj):(cov_4vt28xvcu.b[0][1]++,{default:obj});}var app=(cov_4vt28xvcu.s[10]++,(0,_express2.default)());cov_4vt28xvcu.s[11]++;app.use(_bodyParser2.default.json());cov_4vt28xvcu.s[12]++;app.use(_bodyParser2.default.urlencoded({extended:false}));cov_4vt28xvcu.s[13]++;app.use(_bodyParser2.default.text());cov_4vt28xvcu.s[14]++;app.use(_bodyParser2.default.json({type:'application/json'}));var secret=(cov_4vt28xvcu.s[15]++,'secret');var connectionString=(cov_4vt28xvcu.s[16]++,'postgres://fgxmlcmztjlnqa:78ed6f0c9e151eb1f3fbb6e8a7a50ba3d4a9bf471e6498ea527119a2169ea645@ec2-107-20-167-11.compute-1.amazonaws.com:5432/da9ssf8703fkcj');var pool=(cov_4vt28xvcu.s[17]++,new _pg2.default.Pool({password:'',user:'postgres',database:'testing_db',//user: 'samipostgres',
//password: 'samipostgres',
//database: 'mydatabase',
host:'127.0.0.1',port:'5432'//connectionString: 'postgres://fgxmlcmztjlnqa:78ed6f0c9e151eb1f3fbb6e8a7a50ba3d4a9bf471e6498ea527119a2169ea645@ec2-107-20-167-11.compute-1.amazonaws.com:5432/da9ssf8703fkcj'
}));cov_4vt28xvcu.s[18]++;var verifyToken=function verifyToken(req,res,next){cov_4vt28xvcu.f[1]++;//const token = req.headers.authorization.split(" ")[1];
var token=(cov_4vt28xvcu.s[19]++,req.cookies.token);cov_4vt28xvcu.s[20]++;try{var decoded=(cov_4vt28xvcu.s[21]++,_jsonwebtoken2.default.verify(token,secret));cov_4vt28xvcu.s[22]++;req.userData=decoded;cov_4vt28xvcu.s[23]++;next();}catch(error){cov_4vt28xvcu.s[24]++;res.cookie("userData",null);cov_4vt28xvcu.s[25]++;res.cookie("token",null);cov_4vt28xvcu.s[26]++;res.status(401).send({success:'false',message:'Auth failed'});}};cov_4vt28xvcu.s[27]++;exports.default={pool:pool,verifyToken:verifyToken,secret:secret};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiYXBwIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJ0ZXh0IiwidHlwZSIsInNlY3JldCIsImNvbm5lY3Rpb25TdHJpbmciLCJwb29sIiwicGciLCJQb29sIiwicGFzc3dvcmQiLCJ1c2VyIiwiZGF0YWJhc2UiLCJob3N0IiwicG9ydCIsInZlcmlmeVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiY29va2llcyIsImRlY29kZWQiLCJqd3QiLCJ2ZXJpZnkiLCJ1c2VyRGF0YSIsImVycm9yIiwiY29va2llIiwic3RhdHVzIiwic2VuZCIsInN1Y2Nlc3MiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsTUFBTSx3QkFBWjs7QUFFQUEsSUFBSUMsR0FBSixDQUFRQyxxQkFBV0MsSUFBWCxFQUFSO0FBQ0FILElBQUlDLEdBQUosQ0FBUUMscUJBQVdFLFVBQVgsQ0FBc0IsRUFBRUMsVUFBVSxLQUFaLEVBQXRCLENBQVI7QUFDQUwsSUFBSUMsR0FBSixDQUFRQyxxQkFBV0ksSUFBWCxFQUFSO0FBQ0FOLElBQUlDLEdBQUosQ0FBUUMscUJBQVdDLElBQVgsQ0FBZ0IsRUFBRUksTUFBTSxrQkFBUixFQUFoQixDQUFSOztBQUVBLElBQU1DLFNBQVMsUUFBZjtBQUNBLElBQU1DLG1CQUFtQiwwSkFBekI7O0FBRUEsSUFBTUMsT0FBTyxJQUFJQyxhQUFHQyxJQUFQLENBQVk7O0FBRXRCQyxjQUFVLEVBRlk7QUFHdEJDLFVBQU0sVUFIZ0I7QUFJdEJDLGNBQVUsWUFKWTs7QUFNckI7QUFDQTtBQUNBOzs7QUFHQUMsVUFBTSxXQVhlO0FBWXJCQyxVQUFNOztBQUVWOztBQWR5QixDQUFaLENBQWI7O0FBbUJBLElBQU1DLGNBQWMsU0FBZEEsV0FBYyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjs7QUFFcEM7QUFDQSxRQUFNQyxRQUFRSCxJQUFJSSxPQUFKLENBQVlELEtBQTFCOztBQUVBLFFBQUc7QUFDQyxZQUFNRSxVQUFVQyx1QkFBSUMsTUFBSixDQUFXSixLQUFYLEVBQWtCZCxNQUFsQixDQUFoQjtBQUNBVyxZQUFJUSxRQUFKLEdBQWVILE9BQWY7QUFDQUg7QUFDSCxLQUpELENBSUMsT0FBTU8sS0FBTixFQUFZO0FBQ1RSLFlBQUlTLE1BQUosQ0FBVyxVQUFYLEVBQXVCLElBQXZCO0FBQ0FULFlBQUlTLE1BQUosQ0FBVyxPQUFYLEVBQW9CLElBQXBCOztBQUVBVCxZQUFJVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDakJDLDRCQURpQjtBQUVqQkM7QUFGaUIsU0FBckI7QUFJSDtBQUVKLENBbkJEOztrQkFxQmUsRUFBQ3ZCLFVBQUQsRUFBT1Esd0JBQVAsRUFBb0JWLGNBQXBCLEUiLCJmaWxlIjoidXNlci5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9zYW1pL0RvY3VtZW50cy9lbGludC1yZXRyYWNlZC9naXRodWIxMDEvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBnIGZyb20gJ3BnJztcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLnRleHQoKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nfSkpOyBcclxuXHJcbmNvbnN0IHNlY3JldCA9ICdzZWNyZXQnO1xyXG5jb25zdCBjb25uZWN0aW9uU3RyaW5nID0gJ3Bvc3RncmVzOi8vZmd4bWxjbXp0amxucWE6NzhlZDZmMGM5ZTE1MWViMWYzZmJiNmU4YTdhNTBiYTNkNGE5YmY0NzFlNjQ5OGVhNTI3MTE5YTIxNjllYTY0NUBlYzItMTA3LTIwLTE2Ny0xMS5jb21wdXRlLTEuYW1hem9uYXdzLmNvbTo1NDMyL2RhOXNzZjg3MDNma2NqJztcclxuXHJcbmNvbnN0IHBvb2wgPSBuZXcgcGcuUG9vbCh7XHJcbiAgIFxyXG4gICBwYXNzd29yZDogJycsXHJcbiAgIHVzZXI6ICdwb3N0Z3JlcycsXHJcbiAgIGRhdGFiYXNlOiAndGVzdGluZ19kYicsXHJcbiAgICBcclxuICAgIC8vdXNlcjogJ3NhbWlwb3N0Z3JlcycsXHJcbiAgICAvL3Bhc3N3b3JkOiAnc2FtaXBvc3RncmVzJyxcclxuICAgIC8vZGF0YWJhc2U6ICdteWRhdGFiYXNlJyxcclxuXHJcblxyXG4gICAgaG9zdDogJzEyNy4wLjAuMScsXHJcbiAgICBwb3J0OiAnNTQzMidcclxuXHJcbi8vY29ubmVjdGlvblN0cmluZzogJ3Bvc3RncmVzOi8vZmd4bWxjbXp0amxucWE6NzhlZDZmMGM5ZTE1MWViMWYzZmJiNmU4YTdhNTBiYTNkNGE5YmY0NzFlNjQ5OGVhNTI3MTE5YTIxNjllYTY0NUBlYzItMTA3LTIwLTE2Ny0xMS5jb21wdXRlLTEuYW1hem9uYXdzLmNvbTo1NDMyL2RhOXNzZjg3MDNma2NqJ1xyXG5cclxufSk7XHJcblxyXG5cclxuY29uc3QgdmVyaWZ5VG9rZW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuXHJcbiAgICAvL2NvbnN0IHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbi5zcGxpdChcIiBcIilbMV07XHJcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLnRva2VuO1xyXG5cclxuICAgIHRyeXtcclxuICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgc2VjcmV0KTtcclxuICAgICAgICByZXEudXNlckRhdGEgPSBkZWNvZGVkO1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgcmVzLmNvb2tpZShcInVzZXJEYXRhXCIsIG51bGwpO1xyXG4gICAgICAgIHJlcy5jb29raWUoXCJ0b2tlblwiLCBudWxsKTtcclxuICAgICAgICBcclxuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGBmYWxzZWAsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBBdXRoIGZhaWxlZGBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge3Bvb2wsIHZlcmlmeVRva2VuLCBzZWNyZXR9OyJdfQ==