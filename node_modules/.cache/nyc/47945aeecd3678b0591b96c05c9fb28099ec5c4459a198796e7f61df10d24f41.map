{"version":3,"sources":["addAQuestion.js"],"names":["pool","user","addAQuestion","req","res","status","send","success","message","newQuestion","username","body","question","questions","answers","time","Date","query","err","resp","id","rows"],"mappings":";;;;;;AAAA;;;;;;AAIA,IAAMA,OAAOC,eAAKD,IAAlB;;AAGA,IAAME,eAAe,SAAfA,YAAe,CAACC,GAAD,EAAMC,GAAN,EAAc;AAC/B,QAAG,CAACA,IAAIC,MAAJ,CAAW,GAAX,CAAJ,EAAqB;AAClB,eAAOD,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACvBC,4BADuB;AAEvBC;AAFuB,SAArB,CAAP;AAID;;AAGF,QAAMC,cAAc;AAChBC,kBAAUP,IAAIQ,IAAJ,CAASD,QADH;AAEhBE,kBAAUT,IAAIQ,IAAJ,CAASE,SAFH;AAGhBC,iBAAS,EAHO;AAIhBC,cAAM,IAAIC,IAAJ;AAJU,KAApB;;AAOEhB,SAAKiB,KAAL,CAAW,2GAAX,EACA,CAACR,YAAYC,QAAb,EAAuBD,YAAYG,QAAnC,EAA6CH,YAAYK,OAAzD,EAAkE,CAAlE,EAAqEL,YAAYM,IAAjF,CADA,EACwF,UAACG,GAAD,EAAMC,IAAN,EAAa;AACnG,eAAOf,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,2BADwB;AAExBC,sDAFwB;AAGxBI,sBAAUH,WAHc;AAIxBW,gBAAID,KAAKE,IAAL,CAAU,CAAV,EAAaD;;AAJO,SAArB,CAAP;AAYD,KAdD;AAiBL,CAjCD;;kBAmCelB,Y","file":"addAQuestion.js","sourceRoot":"/home/sami/Documents/elint-retraced/github101/src","sourcesContent":["import user from './user';\r\n\r\n\r\n\r\nconst pool = user.pool;\r\n\r\n\r\nconst addAQuestion = (req, res) => {\r\n    if(!res.status(200)) {\r\n       return res.status(400).send({\r\n            success: `false`,     \r\n            message: `question is required`\r\n        }); \r\n     } \r\n\r\n\r\n    const newQuestion = {\r\n        username: req.body.username,\r\n        question: req.body.questions,\r\n        answers: [],\r\n        time: new Date()\r\n      }\r\n  \r\n      pool.query(\"INSERT INTO questions (username, question, answers, viewed, time) VALUES($1, $2, $3, $4, $5) RETURNING id\",\r\n      [newQuestion.username, newQuestion.question, newQuestion.answers, 0, newQuestion.time], (err, resp)=>{ \r\n        return res.status(201).send({\r\n            success: `true`,\r\n            message: `New question added successfully`, \r\n            question: newQuestion,\r\n            id: resp.rows[0].id\r\n   \r\n            })\r\n  \r\n\r\n\r\n\r\n\r\n      });\r\n     \r\n\r\n}\r\n\r\nexport default addAQuestion;"]}