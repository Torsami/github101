'use strict';var cov_294oj6np5v=function(){var path="/home/sami/Documents/elint-retraced/github101/src/getAQuestion.js";var hash="c487ee73e035eb4bb9a43e34d58e39ab1c86c495";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/sami/Documents/elint-retraced/github101/src/getAQuestion.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:10},end:{line:7,column:28}},"2":{start:{line:9,column:11},end:{line:9,column:38}},"3":{start:{line:11,column:12},end:{line:11,column:29}},"4":{start:{line:13,column:13},end:{line:13,column:42}},"5":{start:{line:15,column:39},end:{line:15,column:93}},"6":{start:{line:17,column:11},end:{line:17,column:30}},"7":{start:{line:19,column:19},end:{line:48,column:1}},"8":{start:{line:20,column:13},end:{line:20,column:48}},"9":{start:{line:22,column:4},end:{line:47,column:7}},"10":{start:{line:24,column:8},end:{line:46,column:9}},"11":{start:{line:25,column:12},end:{line:25,column:62}},"12":{start:{line:26,column:12},end:{line:26,column:137}},"13":{start:{line:27,column:33},end:{line:34,column:13}},"14":{start:{line:36,column:12},end:{line:40,column:15}},"15":{start:{line:42,column:12},end:{line:45,column:15}},"16":{start:{line:50,column:0},end:{line:50,column:31}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:15,column:9},end:{line:15,column:31}},loc:{start:{line:15,column:37},end:{line:15,column:95}},line:15},"1":{name:"getAQuestion",decl:{start:{line:19,column:28},end:{line:19,column:40}},loc:{start:{line:19,column:51},end:{line:48,column:1}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:22,column:60},end:{line:22,column:61}},loc:{start:{line:22,column:83},end:{line:47,column:5}},line:22},"3":{name:"(anonymous_3)",decl:{start:{line:26,column:102},end:{line:26,column:103}},loc:{start:{line:26,column:133},end:{line:26,column:135}},line:26}},branchMap:{"0":{loc:{start:{line:15,column:46},end:{line:15,column:92}},type:"cond-expr",locations:[{start:{line:15,column:70},end:{line:15,column:73}},{start:{line:15,column:76},end:{line:15,column:92}}],line:15},"1":{loc:{start:{line:15,column:46},end:{line:15,column:67}},type:"binary-expr",locations:[{start:{line:15,column:46},end:{line:15,column:49}},{start:{line:15,column:53},end:{line:15,column:67}}],line:15},"2":{loc:{start:{line:24,column:8},end:{line:46,column:9}},type:"if",locations:[{start:{line:24,column:8},end:{line:46,column:9}},{start:{line:24,column:8},end:{line:46,column:9}}],line:24}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_294oj6np5v.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _db=(cov_294oj6np5v.s[1]++,require('./db/db'));var _db2=(cov_294oj6np5v.s[2]++,_interopRequireDefault(_db));var _user=(cov_294oj6np5v.s[3]++,require('./user'));var _user2=(cov_294oj6np5v.s[4]++,_interopRequireDefault(_user));function _interopRequireDefault(obj){cov_294oj6np5v.f[0]++;cov_294oj6np5v.s[5]++;return(cov_294oj6np5v.b[1][0]++,obj)&&(cov_294oj6np5v.b[1][1]++,obj.__esModule)?(cov_294oj6np5v.b[0][0]++,obj):(cov_294oj6np5v.b[0][1]++,{default:obj});}var pool=(cov_294oj6np5v.s[6]++,_user2.default.pool);cov_294oj6np5v.s[7]++;var getAQuestion=function getAQuestion(req,res){cov_294oj6np5v.f[1]++;var id=(cov_294oj6np5v.s[8]++,parseInt(req.params.questionId,10));cov_294oj6np5v.s[9]++;pool.query('SELECT * FROM questions WHERE id=$1',[id],function(err,result){cov_294oj6np5v.f[2]++;cov_294oj6np5v.s[10]++;if(typeof result.rows[0]!=='undefined'){cov_294oj6np5v.b[2][0]++;cov_294oj6np5v.s[11]++;result.rows[0].viewed=result.rows[0].viewed+1;cov_294oj6np5v.s[12]++;pool.query('UPDATE questions SET viewed = $1 WHERE id = $2',[result.rows[0].viewed,id],function(error,viewedUpdate){cov_294oj6np5v.f[3]++;});var questionResult=(cov_294oj6np5v.s[13]++,{id:result.rows[0].id,username:result.rows[0].username,question:result.rows[0].question,time:result.rows[0].time,answers:result.rows[0].answers,viewed:result.rows[0].viewed});cov_294oj6np5v.s[14]++;return res.status(200).send({success:'true',message:'Task completed successfully',questionData:questionResult});}else{cov_294oj6np5v.b[2][1]++;cov_294oj6np5v.s[15]++;return res.status(404).send({success:'false',message:'Task not completed, no question found with specified id'});}});};cov_294oj6np5v.s[16]++;exports.default=getAQuestion;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldEFRdWVzdGlvbi5qcyJdLCJuYW1lcyI6WyJwb29sIiwidXNlciIsImdldEFRdWVzdGlvbiIsInJlcSIsInJlcyIsImlkIiwicGFyc2VJbnQiLCJwYXJhbXMiLCJxdWVzdGlvbklkIiwicXVlcnkiLCJlcnIiLCJyZXN1bHQiLCJyb3dzIiwidmlld2VkIiwiZXJyb3IiLCJ2aWV3ZWRVcGRhdGUiLCJxdWVzdGlvblJlc3VsdCIsInVzZXJuYW1lIiwicXVlc3Rpb24iLCJ0aW1lIiwiYW5zd2VycyIsInN0YXR1cyIsInNlbmQiLCJzdWNjZXNzIiwibWVzc2FnZSIsInF1ZXN0aW9uRGF0YSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsT0FBT0MsZUFBS0QsSUFBbEI7O0FBR0EsSUFBTUUsZUFBZSxTQUFmQSxZQUFlLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQy9CLFFBQU1DLEtBQUtDLFNBQVNILElBQUlJLE1BQUosQ0FBV0MsVUFBcEIsRUFBZ0MsRUFBaEMsQ0FBWDs7QUFHQVIsU0FBS1MsS0FBTCxDQUFXLHFDQUFYLEVBQWtELENBQUNKLEVBQUQsQ0FBbEQsRUFBd0QsVUFBQ0ssR0FBRCxFQUFNQyxNQUFOLEVBQWU7O0FBRW5FLFlBQUcsT0FBT0EsT0FBT0MsSUFBUCxDQUFZLENBQVosQ0FBUCxLQUEyQixXQUE5QixFQUEwQztBQUMxQ0QsbUJBQU9DLElBQVAsQ0FBWSxDQUFaLEVBQWVDLE1BQWYsR0FBeUJGLE9BQU9DLElBQVAsQ0FBWSxDQUFaLEVBQWVDLE1BQWYsR0FBd0IsQ0FBakQ7QUFDUmIsaUJBQUtTLEtBQUwsQ0FBVyxnREFBWCxFQUE2RCxDQUFDRSxPQUFPQyxJQUFQLENBQVksQ0FBWixFQUFlQyxNQUFoQixFQUF3QlIsRUFBeEIsQ0FBN0QsRUFBMEYsVUFBQ1MsS0FBRCxFQUFRQyxZQUFSLEVBQXlCLENBQ2xILENBREQ7QUFFWSxnQkFBTUMsaUJBQWlCO0FBQ25CWCxvQkFBSU0sT0FBT0MsSUFBUCxDQUFZLENBQVosRUFBZVAsRUFEQTtBQUVuQlksMEJBQVVOLE9BQU9DLElBQVAsQ0FBWSxDQUFaLEVBQWVLLFFBRk47QUFHbkJDLDBCQUFVUCxPQUFPQyxJQUFQLENBQVksQ0FBWixFQUFlTSxRQUhOO0FBSW5CQyxzQkFBTVIsT0FBT0MsSUFBUCxDQUFZLENBQVosRUFBZU8sSUFKRjtBQUtuQkMseUJBQVNULE9BQU9DLElBQVAsQ0FBWSxDQUFaLEVBQWVRLE9BTEw7QUFNbkJQLHdCQUFRRixPQUFPQyxJQUFQLENBQVksQ0FBWixFQUFlQztBQU5KLGFBQXZCOztBQVNBLG1CQUFPVCxJQUFJaUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCQywrQkFEd0I7QUFFeEJDLHNEQUZ3QjtBQUd4QkMsOEJBQWNUO0FBSFUsYUFBckIsQ0FBUDtBQUtQLFNBbEJHLE1Ba0JDO0FBQ0QsbUJBQU9aLElBQUlpQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDeEJDLGdDQUR3QjtBQUV4QkM7QUFGd0IsYUFBckIsQ0FBUDtBQUlIO0FBQ0EsS0ExQkQ7QUE4QkgsQ0FsQ0Q7O2tCQXNDZXRCLFkiLCJmaWxlIjoiZ2V0QVF1ZXN0aW9uLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3NhbWkvRG9jdW1lbnRzL2VsaW50LXJldHJhY2VkL2dpdGh1YjEwMS9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGIgZnJvbSAnLi9kYi9kYic7XHJcbmltcG9ydCB1c2VyIGZyb20gJy4vdXNlcic7XHJcblxyXG5jb25zdCBwb29sID0gdXNlci5wb29sO1xyXG5cclxuXHJcbmNvbnN0IGdldEFRdWVzdGlvbiA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgaWQgPSBwYXJzZUludChyZXEucGFyYW1zLnF1ZXN0aW9uSWQsIDEwKTtcclxuXHJcblxyXG4gICAgcG9vbC5xdWVyeSgnU0VMRUNUICogRlJPTSBxdWVzdGlvbnMgV0hFUkUgaWQ9JDEnLCBbaWRdLCAoZXJyLCByZXN1bHQpPT57XHJcbiAgICAgICBcclxuICAgICAgICBpZih0eXBlb2YocmVzdWx0LnJvd3NbMF0pICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgcmVzdWx0LnJvd3NbMF0udmlld2VkICA9IHJlc3VsdC5yb3dzWzBdLnZpZXdlZCArIDE7XHJcbnBvb2wucXVlcnkoJ1VQREFURSBxdWVzdGlvbnMgU0VUIHZpZXdlZCA9ICQxIFdIRVJFIGlkID0gJDInLCBbcmVzdWx0LnJvd3NbMF0udmlld2VkLCBpZF0sIChlcnJvciwgdmlld2VkVXBkYXRlKSA9PiB7XHJcbn0pXHJcbiAgICAgICAgICAgIGNvbnN0IHF1ZXN0aW9uUmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHJlc3VsdC5yb3dzWzBdLmlkLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHJlc3VsdC5yb3dzWzBdLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgcXVlc3Rpb246IHJlc3VsdC5yb3dzWzBdLnF1ZXN0aW9uLFxyXG4gICAgICAgICAgICAgICAgdGltZTogcmVzdWx0LnJvd3NbMF0udGltZSxcclxuICAgICAgICAgICAgICAgIGFuc3dlcnM6IHJlc3VsdC5yb3dzWzBdLmFuc3dlcnMsXHJcbiAgICAgICAgICAgICAgICB2aWV3ZWQ6IHJlc3VsdC5yb3dzWzBdLnZpZXdlZFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogYHRydWVgLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFRhc2sgY29tcGxldGVkIHN1Y2Nlc3NmdWxseWAsXHJcbiAgICAgICAgICAgICAgICBxdWVzdGlvbkRhdGE6IHF1ZXN0aW9uUmVzdWx0XHJcbiAgICAgICAgfSlcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGBmYWxzZWAsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBUYXNrIG5vdCBjb21wbGV0ZWQsIG5vIHF1ZXN0aW9uIGZvdW5kIHdpdGggc3BlY2lmaWVkIGlkYFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgXHJcblxyXG59XHJcblxyXG4gICAgXHJcblxyXG5leHBvcnQgZGVmYXVsdCBnZXRBUXVlc3Rpb247Il19