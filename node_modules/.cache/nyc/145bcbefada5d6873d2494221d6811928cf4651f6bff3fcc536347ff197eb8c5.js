'use strict';var cov_4vt28xvcu=function(){var path="/home/sami/Documents/elint-retraced/github101/src/user.js";var hash="a3aa30e455eca0000c2d52d18c61e9a4185c4bf4";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/sami/Documents/elint-retraced/github101/src/user.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:10},end:{line:7,column:23}},"2":{start:{line:9,column:11},end:{line:9,column:38}},"3":{start:{line:11,column:15},end:{line:11,column:33}},"4":{start:{line:13,column:16},end:{line:13,column:48}},"5":{start:{line:15,column:18},end:{line:15,column:40}},"6":{start:{line:17,column:19},end:{line:17,column:54}},"7":{start:{line:19,column:20},end:{line:19,column:43}},"8":{start:{line:21,column:21},end:{line:21,column:58}},"9":{start:{line:23,column:39},end:{line:23,column:93}},"10":{start:{line:25,column:10},end:{line:25,column:34}},"11":{start:{line:27,column:0},end:{line:27,column:37}},"12":{start:{line:28,column:0},end:{line:28,column:62}},"13":{start:{line:29,column:0},end:{line:29,column:37}},"14":{start:{line:30,column:0},end:{line:30,column:65}},"15":{start:{line:32,column:13},end:{line:32,column:21}},"16":{start:{line:33,column:23},end:{line:33,column:177}},"17":{start:{line:35,column:11},end:{line:52,column:2}},"18":{start:{line:54,column:18},end:{line:72,column:1}},"19":{start:{line:57,column:16},end:{line:57,column:33}},"20":{start:{line:59,column:4},end:{line:71,column:5}},"21":{start:{line:60,column:22},end:{line:60,column:66}},"22":{start:{line:61,column:8},end:{line:61,column:31}},"23":{start:{line:62,column:8},end:{line:62,column:15}},"24":{start:{line:64,column:8},end:{line:64,column:37}},"25":{start:{line:65,column:8},end:{line:65,column:34}},"26":{start:{line:67,column:8},end:{line:70,column:11}},"27":{start:{line:74,column:0},end:{line:74,column:75}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:23,column:9},end:{line:23,column:31}},loc:{start:{line:23,column:37},end:{line:23,column:95}},line:23},"1":{name:"verifyToken",decl:{start:{line:54,column:27},end:{line:54,column:38}},loc:{start:{line:54,column:55},end:{line:72,column:1}},line:54}},branchMap:{"0":{loc:{start:{line:23,column:46},end:{line:23,column:92}},type:"cond-expr",locations:[{start:{line:23,column:70},end:{line:23,column:73}},{start:{line:23,column:76},end:{line:23,column:92}}],line:23},"1":{loc:{start:{line:23,column:46},end:{line:23,column:67}},type:"binary-expr",locations:[{start:{line:23,column:46},end:{line:23,column:49}},{start:{line:23,column:53},end:{line:23,column:67}}],line:23}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_4vt28xvcu.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _pg=(cov_4vt28xvcu.s[1]++,require('pg'));var _pg2=(cov_4vt28xvcu.s[2]++,_interopRequireDefault(_pg));var _express=(cov_4vt28xvcu.s[3]++,require('express'));var _express2=(cov_4vt28xvcu.s[4]++,_interopRequireDefault(_express));var _bodyParser=(cov_4vt28xvcu.s[5]++,require('body-parser'));var _bodyParser2=(cov_4vt28xvcu.s[6]++,_interopRequireDefault(_bodyParser));var _jsonwebtoken=(cov_4vt28xvcu.s[7]++,require('jsonwebtoken'));var _jsonwebtoken2=(cov_4vt28xvcu.s[8]++,_interopRequireDefault(_jsonwebtoken));function _interopRequireDefault(obj){cov_4vt28xvcu.f[0]++;cov_4vt28xvcu.s[9]++;return(cov_4vt28xvcu.b[1][0]++,obj)&&(cov_4vt28xvcu.b[1][1]++,obj.__esModule)?(cov_4vt28xvcu.b[0][0]++,obj):(cov_4vt28xvcu.b[0][1]++,{default:obj});}var app=(cov_4vt28xvcu.s[10]++,(0,_express2.default)());cov_4vt28xvcu.s[11]++;app.use(_bodyParser2.default.json());cov_4vt28xvcu.s[12]++;app.use(_bodyParser2.default.urlencoded({extended:false}));cov_4vt28xvcu.s[13]++;app.use(_bodyParser2.default.text());cov_4vt28xvcu.s[14]++;app.use(_bodyParser2.default.json({type:'application/json'}));var secret=(cov_4vt28xvcu.s[15]++,'secret');var connectionString=(cov_4vt28xvcu.s[16]++,'postgres://fgxmlcmztjlnqa:78ed6f0c9e151eb1f3fbb6e8a7a50ba3d4a9bf471e6498ea527119a2169ea645@ec2-107-20-167-11.compute-1.amazonaws.com:5432/da9ssf8703fkcj');var pool=(cov_4vt28xvcu.s[17]++,new _pg2.default.Pool({password:'',user:'postgres',database:'postgres',/*
    
    user: 'samipostgres',
    password: 'samipostgres',
    database: 'mydatabase',
    */host:'127.0.0.1',port:'5432'//connectionString: 'postgres://fgxmlcmztjlnqa:78ed6f0c9e151eb1f3fbb6e8a7a50ba3d4a9bf471e6498ea527119a2169ea645@ec2-107-20-167-11.compute-1.amazonaws.com:5432/da9ssf8703fkcj'
}));cov_4vt28xvcu.s[18]++;var verifyToken=function verifyToken(req,res,next){cov_4vt28xvcu.f[1]++;//const token = req.headers.authorization.split(" ")[1];
var token=(cov_4vt28xvcu.s[19]++,req.cookies.token);cov_4vt28xvcu.s[20]++;try{var decoded=(cov_4vt28xvcu.s[21]++,_jsonwebtoken2.default.verify(token,secret));cov_4vt28xvcu.s[22]++;req.userData=decoded;cov_4vt28xvcu.s[23]++;next();}catch(error){cov_4vt28xvcu.s[24]++;res.cookie("userData",null);cov_4vt28xvcu.s[25]++;res.cookie("token",null);cov_4vt28xvcu.s[26]++;res.status(401).send({success:'false',message:'Auth failed'});}};cov_4vt28xvcu.s[27]++;exports.default={pool:pool,verifyToken:verifyToken,secret:secret};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiYXBwIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJ0ZXh0IiwidHlwZSIsInNlY3JldCIsImNvbm5lY3Rpb25TdHJpbmciLCJwb29sIiwicGciLCJQb29sIiwicGFzc3dvcmQiLCJ1c2VyIiwiZGF0YWJhc2UiLCJob3N0IiwicG9ydCIsInZlcmlmeVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiY29va2llcyIsImRlY29kZWQiLCJqd3QiLCJ2ZXJpZnkiLCJ1c2VyRGF0YSIsImVycm9yIiwiY29va2llIiwic3RhdHVzIiwic2VuZCIsInN1Y2Nlc3MiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsTUFBTSx3QkFBWjs7QUFFQUEsSUFBSUMsR0FBSixDQUFRQyxxQkFBV0MsSUFBWCxFQUFSO0FBQ0FILElBQUlDLEdBQUosQ0FBUUMscUJBQVdFLFVBQVgsQ0FBc0IsRUFBRUMsVUFBVSxLQUFaLEVBQXRCLENBQVI7QUFDQUwsSUFBSUMsR0FBSixDQUFRQyxxQkFBV0ksSUFBWCxFQUFSO0FBQ0FOLElBQUlDLEdBQUosQ0FBUUMscUJBQVdDLElBQVgsQ0FBZ0IsRUFBRUksTUFBTSxrQkFBUixFQUFoQixDQUFSOztBQUVBLElBQU1DLFNBQVMsUUFBZjtBQUNBLElBQU1DLG1CQUFtQiwwSkFBekI7O0FBRUEsSUFBTUMsT0FBTyxJQUFJQyxhQUFHQyxJQUFQLENBQVk7O0FBRXJCQyxjQUFVLEVBRlc7QUFHckJDLFVBQU0sVUFIZTtBQUlyQkMsY0FBVSxVQUpXO0FBS3JCOzs7Ozs7O0FBT0FDLFVBQU0sV0FaZTtBQWFyQkMsVUFBTTs7QUFFVjs7QUFmeUIsQ0FBWixDQUFiOztBQW9CQSxJQUFNQyxjQUFjLFNBQWRBLFdBQWMsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7O0FBRXBDO0FBQ0EsUUFBTUMsUUFBUUgsSUFBSUksT0FBSixDQUFZRCxLQUExQjs7QUFFQSxRQUFHO0FBQ0MsWUFBTUUsVUFBVUMsdUJBQUlDLE1BQUosQ0FBV0osS0FBWCxFQUFrQmQsTUFBbEIsQ0FBaEI7QUFDQVcsWUFBSVEsUUFBSixHQUFlSCxPQUFmO0FBQ0FIO0FBQ0gsS0FKRCxDQUlDLE9BQU1PLEtBQU4sRUFBWTtBQUNUUixZQUFJUyxNQUFKLENBQVcsVUFBWCxFQUF1QixJQUF2QjtBQUNBVCxZQUFJUyxNQUFKLENBQVcsT0FBWCxFQUFvQixJQUFwQjs7QUFFQVQsWUFBSVUsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ2pCQyw0QkFEaUI7QUFFakJDO0FBRmlCLFNBQXJCO0FBSUg7QUFFSixDQW5CRDs7a0JBcUJlLEVBQUN2QixVQUFELEVBQU9RLHdCQUFQLEVBQW9CVixjQUFwQixFIiwiZmlsZSI6InVzZXIuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvc2FtaS9Eb2N1bWVudHMvZWxpbnQtcmV0cmFjZWQvZ2l0aHViMTAxL3NyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwZyBmcm9tICdwZyc7XHJcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci50ZXh0KCkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbih7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJ30pKTsgXHJcblxyXG5jb25zdCBzZWNyZXQgPSAnc2VjcmV0JztcclxuY29uc3QgY29ubmVjdGlvblN0cmluZyA9ICdwb3N0Z3JlczovL2ZneG1sY216dGpsbnFhOjc4ZWQ2ZjBjOWUxNTFlYjFmM2ZiYjZlOGE3YTUwYmEzZDRhOWJmNDcxZTY0OThlYTUyNzExOWEyMTY5ZWE2NDVAZWMyLTEwNy0yMC0xNjctMTEuY29tcHV0ZS0xLmFtYXpvbmF3cy5jb206NTQzMi9kYTlzc2Y4NzAzZmtjaic7XHJcblxyXG5jb25zdCBwb29sID0gbmV3IHBnLlBvb2woe1xyXG4gICBcclxuICAgIHBhc3N3b3JkOiAnJyxcclxuICAgIHVzZXI6ICdwb3N0Z3JlcycsXHJcbiAgICBkYXRhYmFzZTogJ3Bvc3RncmVzJyxcclxuICAgIC8qXHJcbiAgICBcclxuICAgIHVzZXI6ICdzYW1pcG9zdGdyZXMnLFxyXG4gICAgcGFzc3dvcmQ6ICdzYW1pcG9zdGdyZXMnLFxyXG4gICAgZGF0YWJhc2U6ICdteWRhdGFiYXNlJyxcclxuKi9cclxuXHJcbiAgICBob3N0OiAnMTI3LjAuMC4xJyxcclxuICAgIHBvcnQ6ICc1NDMyJ1xyXG5cclxuLy9jb25uZWN0aW9uU3RyaW5nOiAncG9zdGdyZXM6Ly9mZ3htbGNtenRqbG5xYTo3OGVkNmYwYzllMTUxZWIxZjNmYmI2ZThhN2E1MGJhM2Q0YTliZjQ3MWU2NDk4ZWE1MjcxMTlhMjE2OWVhNjQ1QGVjMi0xMDctMjAtMTY3LTExLmNvbXB1dGUtMS5hbWF6b25hd3MuY29tOjU0MzIvZGE5c3NmODcwM2ZrY2onXHJcblxyXG59KTtcclxuXHJcblxyXG5jb25zdCB2ZXJpZnlUb2tlbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG5cclxuICAgIC8vY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uLnNwbGl0KFwiIFwiKVsxXTtcclxuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudG9rZW47XHJcblxyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBzZWNyZXQpO1xyXG4gICAgICAgIHJlcS51c2VyRGF0YSA9IGRlY29kZWQ7XHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICByZXMuY29va2llKFwidXNlckRhdGFcIiwgbnVsbCk7XHJcbiAgICAgICAgcmVzLmNvb2tpZShcInRva2VuXCIsIG51bGwpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcclxuICAgICAgICAgICAgc3VjY2VzczogYGZhbHNlYCxcclxuICAgICAgICAgICAgbWVzc2FnZTogYEF1dGggZmFpbGVkYFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7cG9vbCwgdmVyaWZ5VG9rZW4sIHNlY3JldH07Il19