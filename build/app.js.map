{"version":3,"sources":["../src/app.js"],"names":["PORT","process","env","verifyToken","user","voteDown","votes","voteUp","app","allowCrossDomain","req","res","next","header","use","bodyParser","json","urlencoded","extended","text","type","express","static","get","sendFile","path","resolve","getAllQuestions","getAQuestion","post","addAQuestion","addAnAnswer","signUp","logIn","choosenAnswer","logOut","listen","console","log"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,OAAOC,QAAQC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACA,IAAMG,cAAcC,eAAKD,WAAzB;AACA,IAAME,WAAWC,gBAAMD,QAAvB;AACA,IAAME,SAASD,gBAAMC,MAArB;;AAGA,IAAMC,MAAM,wBAAZ;;AAGA,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3CD,MAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,qBAA3C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,cAA3C;AACAD;AACD,CALD;;AAQAJ,IAAIM,GAAJ,CAAQL,gBAAR;AACAD,IAAIM,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;AACAR,IAAIM,GAAJ,CAAQC,qBAAWE,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;AACAV,IAAIM,GAAJ,CAAQC,qBAAWI,IAAX,EAAR;AACAX,IAAIM,GAAJ,CAAQC,qBAAWC,IAAX,CAAgB,EAAEI,MAAM,kBAAR,EAAhB,CAAR;AACAZ,IAAIM,GAAJ,CAAQO,kBAAQC,MAAR,CAAe,QAAf,CAAR;AACAd,IAAIM,GAAJ,CAAQ,6BAAR;;AAGAN,IAAIe,GAAJ,CAAQ,GAAR,EAAa,UAACb,GAAD,EAAMC,GAAN,EAAY;AACvBA,MAAIa,QAAJ,CAAaC,eAAKC,OAAL,CAAa,qBAAb,CAAb;AACD,CAFD;AAGAlB,IAAIe,GAAJ,CAAQ,mBAAR,EAA6BI,yBAA7B;AACAnB,IAAIe,GAAJ,CAAQ,+BAAR,EAAyCK,sBAAzC;AACApB,IAAIqB,IAAJ,CAAS,oBAAT,EAA+B1B,WAA/B,EAA4C2B,sBAA5C;AACAtB,IAAIqB,IAAJ,CAAS,uCAAT,EAAkD1B,WAAlD,EAA+D4B,qBAA/D;AACAvB,IAAIqB,IAAJ,wBAAgCG,gBAAhC;AACAxB,IAAIqB,IAAJ,CAAS,oBAAT,EAA+BI,eAA/B;AACAzB,IAAIqB,IAAJ,CAAS,wCAAT,EAAmD1B,WAAnD,EAAgEE,QAAhE;AACAG,IAAIqB,IAAJ,CAAS,sCAAT,EAAiD1B,WAAjD,EAA8DI,MAA9D;AACAC,IAAIqB,IAAJ,CAAS,6CAAT,EAAwDK,uBAAxD;AACA1B,IAAIqB,IAAJ,CAAS,qBAAT,EAAgCM,gBAAhC;;AAKA3B,IAAI4B,MAAJ,CAAWpC,IAAX,EAAiB,YAAM;AACjBqC,UAAQC,GAAR,6BAAsCtC,IAAtC;AACD,CAFL;;QAIQQ,G,GAAAA,G","file":"app.js","sourcesContent":["import express from 'express';\r\nimport getAllQuestions from './getAllQuestions';\r\nimport getAQuestion from './getAQuestion';\r\nimport addAQuestion from './addAQuestion';\r\nimport addAnAnswer from './addAnAnswer';\r\nimport signUp from './signUp';\r\nimport logIn from './logIn';\r\nimport votes from './votes';\r\nimport bodyParser from 'body-parser';\r\nimport path from 'path';\r\nimport user from './user';\r\nimport cookieParser from 'cookie-parser';\r\nimport choosenAnswer from './choosenAnswer';\r\nimport logOut from './logOut';\r\n\r\nconst PORT = process.env.PORT || 5000;\r\nconst verifyToken = user.verifyToken;\r\nconst voteDown = votes.voteDown;\r\nconst voteUp = votes.voteUp;\r\n\r\n\r\nconst app = express();\r\n\r\n\r\nconst allowCrossDomain = (req, res, next) => {\r\n  res.header('Access-Control-Allow-Origin', \"*\");\r\n  res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');\r\n  res.header('Access-Control-Allow-Headers', 'Content-Type');\r\n  next();\r\n}\r\n\r\n\r\napp.use(allowCrossDomain);\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended: false }));\r\napp.use(bodyParser.text());                                    \r\napp.use(bodyParser.json({ type: 'application/json'}));  \r\napp.use(express.static(\"public\"));\r\napp.use(cookieParser());\r\n\r\n\r\napp.get('/', (req, res)=>{\r\n  res.sendFile(path.resolve('./public/index.html'));\r\n})\r\napp.get('/api/v1/questions', getAllQuestions);\r\napp.get('/api/v1/questions/:questionId', getAQuestion);\r\napp.post('/api/v1/questions/', verifyToken, addAQuestion);\r\napp.post('/api/v1/questions/:questionId/answers', verifyToken, addAnAnswer);\r\napp.post(`/api/v1/auth/signUp`, signUp);\r\napp.post('/api/v1/auth/logIn', logIn);\r\napp.post('/api/v1/voteDown/:questionId/:answerId', verifyToken, voteDown);\r\napp.post('/api/v1/voteUp/:questionId/:answerId', verifyToken, voteUp);\r\napp.post('/api/v1/choosenanswer/:questionId/:answerId', choosenAnswer);\r\napp.post('/api/v1/auth/logOut', logOut);\r\n\r\n\r\n\r\n\r\napp.listen(PORT, () => {\r\n      console.log(`server running on port ${PORT}`)\r\n    });\r\n\r\nexport {app};\r\n"]}